
# Sampling

- Center align: 需要加`+0.5`计算

例如对4x4的像素块进行采样，则需要尽可能取中心的像素信息。

对于点`(x = 0, y = 0)`：

| x | a(左上角) | b(中心像素)                    |
| - | -         | -                              |
| 0 | x * 4 = 0 | round((x + 0.5) * 4 - 0.5) = 2 |
| 0 | x * 4 = 0 | floor((x + 0.5) * 4) = 2       |

```
    a---*---*---*---*
    |   |   |   |   |
    *---*---*---*---*
    |   |   |   |   |
    *---*---b---*---*
    |   |   |   |   |
    *---*---*---*---*
    |   |   |   |   |
    *---*---*---*---*
```

- Top-Left align: 不能加`+0.5`计算

例如对4x4的像素块求和，则以Top-Left为起点进行二维4x4的遍历即可。


```python
"""
    p---*---*---*---*
    |   |   |   |   |
    *---*---*---*---*
    |   |   |   |   |
    *---*---*---*---*
    |   |   |   |   |
    *---*---*---*---*
    |   |   |   |   |
    *---*---*---*---*
"""
for x in range(4):
    for y in range(4):
        sum(p.xy + [x, y])
```
